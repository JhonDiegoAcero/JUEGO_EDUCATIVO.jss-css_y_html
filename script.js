const temasPorGrado = {
    1: {
        nombre: "Primer Grado",
        temas: [
            {
                nombre: "Reconocimiento de números (del 1 al 100)",
                preguntas: [
                    { texto: "1.- ¿Cuál es el número siguiente después de 99?", respuestaCorrecta: "100" },
                    { texto: "2.-¿Cuál es el número que sigue del 5?", respuestaCorrecta: "6" },
                    { texto: "3.-¿Qué número es mayor, 12 o 15?", respuestaCorrecta: "15" },
                    { texto: "4.-¿Cuál es el número que viene antes de 20?", respuestaCorrecta: "19" },
                    { texto: "5.-¿Cuál de los siguientes números es par (10 o 11) ?", respuestaCorrecta: "10" },
                    { texto: "6.-¿Cuál es el número que viene después de 30?", respuestaCorrecta: "31" },
                    { texto: "7.-¿Cuál de los siguientes números es impar (15 o 20) ?", respuestaCorrecta: "15" },
                    { texto: "8.-¿Que numero sigue despues del 11 ?", respuestaCorrecta: "12" },
                    { texto: "9.-¿Cuál es el número que sigue después de 88?", respuestaCorrecta: "89" },
                    { texto: "10.-¿Que numero es mayor 56 o 65?", respuestaCorrecta: "65" }
                ]
            },
            {
                nombre: "Sumas y restas simples",
                preguntas: [
                    { texto: "1.-¿Cuánto es 3 + 4?", respuestaCorrecta: "7" },
                    { texto: "2.-¿Cuánto es 9 - 5?", respuestaCorrecta: "4" },
                    { texto: "3.-¿Cuánto es 6 + 2?", respuestaCorrecta: "8" },
                    { texto: "4.-¿Cuánto es 8 - 3?", respuestaCorrecta: "5" },
                    { texto: "5.-¿Cuánto es 2 + 7?", respuestaCorrecta: "9" },
                    { texto: "6.-¿Cuánto es 10 - 5?", respuestaCorrecta: "10" },
                    { texto: "7.-¿Cuánto es 20 + 7?", respuestaCorrecta: "27" },
                    { texto: "8.-¿Cuánto es 17 - 5?", respuestaCorrecta: "12" },
                    { texto: "9.-¿Cuánto es 25 - 8?", respuestaCorrecta: "17" },
                    { texto: "10.-¿Cuánto es 11 - 11?", respuestaCorrecta: "22" }
                ]
            },
            {
                nombre: "Formas geométricas básicas",
                preguntas: [
                    { texto: "1.-¿Que figura tiene 3 lados?", respuestaCorrecta: "Triangulo" },
                    { texto: "2.-¿Que figura tiene 4 lados iguales?", respuestaCorrecta: "Cuadrado" },
                    { texto: "3.-¿Cuál de las figuras no tiene lados?", respuestaCorrecta: "Circulo" },
                    { texto: "4.-¿Cuál de las figuras tiene 2 lados largos y 2 lados cortos?", respuestaCorrecta: "Rectangulo" },
                    { texto: "5.-¿Cuántos lados tiene un triángulo?", respuestaCorrecta: "3" },
                    { texto: "6.-¿Cuantos lados tiene un cuadrado", respuestaCorrecta: "4" },
                    { texto: "7.-¿cuantos lados tiene un rectangulo?", respuestaCorrecta: "4" },
                    { texto: "8.-¿Que figura tiene 3 esquinas?", respuestaCorrecta: "Triangulo" },
                    { texto: "9.-¿Que figura tiene 4 esquinas y sus lados son iguales?", respuestaCorrecta: "Cuadrado" },
                    { texto: "10.-¿Que figura seria una pelota?", respuestaCorrecta: "Circulo" }
                ]
            }
        ]
    },
    2: {
        nombre: "Segundo Grado",
        temas: [
            {
                nombre: "Sumas y restas con llevadas",
                preguntas: [
                    { texto: "1.-¿Cuánto es 47 + 36?", respuestaCorrecta: "84" },
                    { texto: "2.-¿Cuánto es 58 + 29?", respuestaCorrecta: "87" },
                    { texto: "3.-¿¿Cuánto es 76 + 18?", respuestaCorrecta: "94" },
                    { texto: "4.-¿Cuánto es 34 + 57?", respuestaCorrecta: "91" },
                    { texto: "5.-¿Cuánto es 69 + 25?", respuestaCorrecta: "94" },
                    { texto: "6.-¿Cuánto es 52 - 38?", respuestaCorrecta: "14" },
                    { texto: "7.-¿Cuánto es 93 - 47?", respuestaCorrecta: "46" },
                    { texto: "8.-¿Cuánto es 81 - 39?", respuestaCorrecta: "42" },
                    { texto: "9.-¿Cuánto es 74 - 28?", respuestaCorrecta: "46" },
                    { texto: "10.-¿Cuánto es 65 - 29?", respuestaCorrecta: "36" }
                ]
            },
            {
                nombre: "Patrones numéricoss",
                preguntas: [
                    { texto: "1.-Completa el patrón: 2, 4, 6, 8, __", respuestaCorrecta: "10" },
                    { texto: "2.-Completa el patrón: 5, 10, 15, 20, __", respuestaCorrecta: "25" },
                    { texto: "¿Cuál número falta en este patrón?: 1, 3, 5, __, 9", respuestaCorrecta: "7" },
                    { texto: "Completa el patrón: 100, 90, 80, 70, __", respuestaCorrecta: "60" },
                    { texto: "5.-¿Cuál número sigue en este patrón?: 11, 22, 33, 44, __", respuestaCorrecta: "55" },
                    { texto: "6.-Completa el patrón: 3, 6, 9, 12, __", respuestaCorrecta: "15" },
                    { texto: "7.-¿Qué número sigue en este patrón?: 30, 25, 20, 15, __", respuestaCorrecta: "10" },
                    { texto: "8.-Completa el patrón: 7, 14, 21, 28, __", respuestaCorrecta: "35" },
                    { texto: "9.-¿Cuál número falta en este patrón?: 50, 45, 40, __, 30", respuestaCorrecta: "35" },
                    { texto: "10.-Completa el patrón: 4, 8, 12, 16, __", respuestaCorrecta: "20" }
                ]
            },
            {
                nombre: "Monedas y billetes",
                preguntas: [
                    { texto: "1.-Tienes 1 moneda de 5 soles y 1 moneda de 2 soles. ¿Cuánto dinero tienes en total?", respuestaCorrecta: "7 soles" },
                    { texto: "2.-Si tienes 2 monedas de 1 sol y compras un helado que cuesta 1 sol, ¿cuánto dinero te queda?", respuestaCorrecta: "1 sol" },
                    { texto: "3.-¿Cuántas monedas de 2 soles necesitas para tener 6 soles?", respuestaCorrecta: "3" },
                    { texto: "4.-Si tienes 1 billete de 10 soles y compras una pelota que cuesta 7 soles, ¿cuánto dinero te sobra?", respuestaCorrecta: "3 soles" },
                    { texto: "5.-¿Cuántos billetes de 10 soles necesitas para tener 30 soles?", respuestaCorrecta: "3" },
                    { texto: "6.-Si tienes 5 monedas de 1 sol, ¿cuánto dinero tienes en total?", respuestaCorrecta: "5 soles" },
                    { texto: "7.-Si tienes 1 billete de 20 soles y compras un juguete que cuesta 15 soles, ¿cuánto te queda?", respuestaCorrecta: "5 soles" },
                    { texto: "8.-¿Cuántas monedas de 1 sol necesitas para tener 10 soles?", respuestaCorrecta: "10" },
                    { texto: "9.-Tienes 2 billetes de 10 soles. ¿Cuánto dinero tienes en total?", respuestaCorrecta: "20 soles" },
                    { texto: "10.-Si tienes 3 monedas de 5 soles, ¿cuánto dinero tienes?", respuestaCorrecta: "15" },
                ]
            }
        ]
    },
    3: {
        nombre: "Tercer Grado",
        temas: [
          {
            nombre: "Multiplicación y división básicas",
            preguntas: [
              { texto: "1.-¿Cuánto es 3 × 4?", respuestaCorrecta: "12" },
              { texto: "2.-¿Cuánto es 6 × 5?", respuestaCorrecta: "30" },
              { texto: "3.-¿Cuánto es 2 × 9?", respuestaCorrecta: "18" },
              { texto: "4.-¿Cuánto es 8 × 3?", respuestaCorrecta: "24" },
              { texto: "5.-¿Cuánto es 7 × 5?", respuestaCorrecta: "35" },
              { texto: "6.-¿Cuánto es 20 ÷ 4?", respuestaCorrecta: "5" },
              { texto: "7.-¿Cuánto es 18 ÷ 3?", respuestaCorrecta: "6" },
              { texto: "8.-¿Cuánto es 12 ÷ 2?", respuestaCorrecta: "6" },
              { texto: "9.-¿Cuánto es 24 ÷ 6?", respuestaCorrecta: "4" },
              { texto: "10.-¿Cuanto es 70 ÷ 10?", respuestaCorrecta: "7" }
            ]
          },
          { 
            nombre: "Fracciones simples ",
            preguntas: [
              { texto: "1.-¿Cómo se llama la fracción que representa la mitad?", respuestaCorrecta: "1/2" },
              { texto: "2.-Si partes una pizza en 4 partes iguales y comes una parte, ¿qué fracción de la pizza comiste?", respuestaCorrecta: "1/4" },
              { texto: "3.-Si partes una sandia en 4 partes iguales y comes dos partes, ¿qué fracción de la pizza comiste?", respuestaCorrecta: "2/4" },
              { texto: "4.-¿Qué fracción representa una tercera parte?", respuestaCorrecta: "1/3" },
              { texto: "5.-Si tienes 3/4 de un pastel, ¿cuántas partes te faltan para completar el pastel entero?", respuestaCorrecta: "1/4" },
              { texto: "6.-Si partes una naranja en 2 partes iguales y comes una, ¿qué fracción queda?", respuestaCorrecta: "1/2" },
              { texto: "7.-¿Cuál es la fracción que representa un cuarto?", respuestaCorrecta: "1/4" },
              { texto: "8.-Si tienes 2/4 de un chocolate, ¿cuántas partes te faltan para tener un chocolate entero?", respuestaCorrecta: "2/4" },
              { texto: "9.-¿Qué fracción representa un tercio?", respuestaCorrecta: "1/3" },
              { texto: "10.-¿Qué fracción representa un decimo?", respuestaCorrecta: "1/10" }
            ]
          },
          { 
            nombre: "Valor posicional de los números (unidades, decenas, centenas)",
            preguntas: [
              { texto: "1.-¿En el número 245, cuál es el valor del dígito 4?", respuestaCorrecta: "4 decenas" },
              { texto: "2.-¿En el número 367, cuál es el valor del dígito 6?", respuestaCorrecta: "6 decenas" },
              { texto: "3.-¿Cuál es el valor del dígito 2 en el número 582?", respuestaCorrecta: "2 unidades" },
              { texto: "4.-¿En el número 721, cuál es el valor del dígito 7?", respuestaCorrecta: "7 centenas" },
              { texto: "5.-¿Cuál es el valor de las decenas en el número 154?", respuestaCorrecta: "50" },
              { texto: "6.-¿Cuál es el valor de las centenas en el número 439?", respuestaCorrecta: "4 centenas" },
              { texto: "7.-¿Qué número tiene 5 centenas, 6 decenas y 7 unidades?", respuestaCorrecta: "567" },
              { texto: "8.-¿En el número 809, cuál es el valor del dígito 9?", respuestaCorrecta: "9 unidades" },
              { texto: "9.-¿Cuál es el valor del dígito 3 en el número 345?", respuestaCorrecta: "3 centenas" },
              { texto: "10.-¿En el número 432, cuál es el valor de las unidades?", respuestaCorrecta: "2" },
            ]
          },
        ]
      },
      4: {
        nombre: "Cuarto Grado",
        temas: [
          {
            nombre: "Multiplicación de 2 y 3 dígitos",
            preguntas: [
              { texto: "1.-¿Cuánto es 23 × 5?", respuestaCorrecta: "115" },
              { texto: "2.-¿Cuánto es 56 × 4?", respuestaCorrecta: "224" },
              { texto: "3.-¿Cuánto es 71 × 6?", respuestaCorrecta: "420" },
              { texto: "4.-¿Cuánto es 83 × 7?", respuestaCorrecta: "581" },
              { texto: "5.-¿Cuánto es 34 × 9?", respuestaCorrecta: "306" },
              { texto: "6.-¿Cuánto es 123 × 3?", respuestaCorrecta: "369" },
              { texto: "7.-¿Cuánto es 235 × 4?", respuestaCorrecta: "940" },
              { texto: "8.-¿Cuánto es 312 × 5?", respuestaCorrecta: "1560" },
              { texto: "9.-¿Cuánto es 142 × 7?", respuestaCorrecta: "994" },
              { texto: "10.-¿Cuánto es 427 × 3?", respuestaCorrecta: "1281" }
            ]
          },
          { 
            nombre: "División con y sin residuo",
            preguntas: [
              { texto: "1.-¿Cuánto es 20 ÷ 5?", respuestaCorrecta: "5" },
              { texto: "2.-¿Cuánto es 36 ÷ 6?", respuestaCorrecta: "6" },
              { texto: "3.-¿Cuánto es 49 ÷ 7?", respuestaCorrecta: "7" },
              { texto: "4.-¿Cuánto es 24 ÷ 4?", respuestaCorrecta: "4" },
              { texto: "5.-¿Cuánto es 120 ÷ 8?", respuestaCorrecta: "15" },
              { texto: "6.-¿Cuánto es 64 ÷ 8?", respuestaCorrecta: "8" },
              { texto: "7.-¿Cuánto es 30 ÷ 5?", respuestaCorrecta: "6" },
              { texto: "8.-¿Cuánto es 63 ÷ 9?", respuestaCorrecta: "7" },
              { texto: "9.-¿Cuánto es 80 ÷ 10?", respuestaCorrecta: "8" },
              { texto: "10.-¿Cuánto es 100 ÷ 5?", respuestaCorrecta: "20" }
            ]
          },
          { 
            nombre: "Ángulos básicos (rectos, agudos, obtusos)",
            preguntas: [
              { texto: "1.-¿Cuánto es 20 ÷ 5?", respuestaCorrecta: "5" },
              { texto: "2.-¿Cuánto es 36 ÷ 6?", respuestaCorrecta: "6" },
              { texto: "3.-¿Cuánto es 49 ÷ 7?", respuestaCorrecta: "7" },
              { texto: "4.-¿Cuánto es 24 ÷ 4?", respuestaCorrecta: "4" },
              { texto: "5.-¿Cuánto es 120 ÷ 8?", respuestaCorrecta: "15" },
              { texto: "6.-¿Cuánto es 64 ÷ 8?", respuestaCorrecta: "8" },
              { texto: "7.-¿Cuánto es 30 ÷ 5?", respuestaCorrecta: "6" },
              { texto: "8.-¿Cuánto es 63 ÷ 9?", respuestaCorrecta: "7" },
              { texto: "9.-¿Cuánto es 80 ÷ 10?", respuestaCorrecta: "8" },
              { texto: "10.-¿Cuánto es 100 ÷ 5?", respuestaCorrecta: "20" }
            ]
          },
        ]
      },
    5: {
        nombre: "Quinto Grado",
        temas: [
          {
            nombre: "Fracciones equivalentes y operaciones con fracciones",
            preguntas: [
              { texto: "1.-¿Cuánto es 23 × 5?", respuestaCorrecta: "115" },
              { texto: "2.-¿Cuánto es 56 × 4?", respuestaCorrecta: "224" },
              { texto: "3.-¿Cuánto es 71 × 6?", respuestaCorrecta: "420" },
              { texto: "4.-¿Cuánto es 83 × 7?", respuestaCorrecta: "581" },
              { texto: "5.-¿Cuánto es 34 × 9?", respuestaCorrecta: "306" },
              { texto: "6.-¿Cuánto es 123 × 3?", respuestaCorrecta: "369" },
              { texto: "7.-¿Cuánto es 235 × 4?", respuestaCorrecta: "940" },
              { texto: "8.-¿Cuánto es 312 × 5?", respuestaCorrecta: "1560" },
              { texto: "9.-¿Cuánto es 142 × 7?", respuestaCorrecta: "994" },
              { texto: "10.-¿Cuánto es 427 × 3?", respuestaCorrecta: "1281" }
            ]
          },
          { 
            nombre: "Números decimales (lectura, escritura, suma y resta)",
            preguntas: [
              { texto: "1.-¿Cuánto es 20 ÷ 5?", respuestaCorrecta: "5" },
              { texto: "2.-¿Cuánto es 36 ÷ 6?", respuestaCorrecta: "6" },
              { texto: "3.-¿Cuánto es 49 ÷ 7?", respuestaCorrecta: "7" },
              { texto: "4.-¿Cuánto es 24 ÷ 4?", respuestaCorrecta: "4" },
              { texto: "5.-¿Cuánto es 120 ÷ 8?", respuestaCorrecta: "15" },
              { texto: "6.-¿Cuánto es 64 ÷ 8?", respuestaCorrecta: "8" },
              { texto: "7.-¿Cuánto es 30 ÷ 5?", respuestaCorrecta: "6" },
              { texto: "8.-¿Cuánto es 63 ÷ 9?", respuestaCorrecta: "7" },
              { texto: "9.-¿Cuánto es 80 ÷ 10?", respuestaCorrecta: "8" },
              { texto: "10.-¿Cuánto es 100 ÷ 5?", respuestaCorrecta: "20" }
            ]
          },
          { 
            nombre: "Perímetro y área de figuras geométricas",
            preguntas: [
              { texto: "1.-¿Cuánto es 20 ÷ 5?", respuestaCorrecta: "5" },
              { texto: "2.-¿Cuánto es 36 ÷ 6?", respuestaCorrecta: "6" },
              { texto: "3.-¿Cuánto es 49 ÷ 7?", respuestaCorrecta: "7" },
              { texto: "4.-¿Cuánto es 24 ÷ 4?", respuestaCorrecta: "4" },
              { texto: "5.-¿Cuánto es 120 ÷ 8?", respuestaCorrecta: "15" },
              { texto: "6.-¿Cuánto es 64 ÷ 8?", respuestaCorrecta: "8" },
              { texto: "7.-¿Cuánto es 30 ÷ 5?", respuestaCorrecta: "6" },
              { texto: "8.-¿Cuánto es 63 ÷ 9?", respuestaCorrecta: "7" },
              { texto: "9.-¿Cuánto es 80 ÷ 10?", respuestaCorrecta: "8" },
              { texto: "10.-¿Cuánto es 100 ÷ 5?", respuestaCorrecta: "20" }
            ]
          },
        ]
      },
    6: {
        nombre: "Sexto Grado",
        temas: [
            {
                nombre: "Porcentajes y su aplicación en problemas",
                preguntas: [
                    { texto: "¿Cuánto es 0.5 + 0.5?", respuestaCorrecta: "1" },
                    { texto: "¿Cuánto es 1.2 + 0.8?", respuestaCorrecta: "2" }
                ]
            },
            {
                nombre: "Proporciones y razones",
                preguntas: [
                    { texto: "¿Cuánto es 0.5 + 0.5?", respuestaCorrecta: "1" },
                    { texto: "¿Cuánto es 1.2 + 0.8?", respuestaCorrecta: "2" }
                ]
            },
            {
                nombre: "Proporciones y razones",
                preguntas: [
                    { texto: "¿Cuánto es 0.5 + 0.5?", respuestaCorrecta: "1" },
                    { texto: "¿Cuánto es 1.2 + 0.8?", respuestaCorrecta: "2" }
                ]
            },
        ]
    }
};

// Variables globales
let puntajeTotal = 0;
let preguntaActualIndex = 0;
let gradoActual = 0;
let temaActualIndex = 0;

// Función para mostrar los temas según el grado seleccionado
function showGradeSelection(grado) {
    document.getElementById("menu").classList.add("hidden");
    const topicContainer = document.getElementById("topic-container");
    topicContainer.classList.remove("hidden");

    const topicList = document.getElementById("topic-list");
    topicList.innerHTML = ""; // Limpiamos la lista de temas

    const temas = temasPorGrado[grado].temas;

    temas.forEach((tema, index) => {
        const li = document.createElement("li");
        const button = document.createElement("button");
        button.textContent = tema.nombre;
        button.onclick = () => startQuiz(grado, index);
        li.appendChild(button);
        topicList.appendChild(li);
    });
}

// Función para iniciar el cuestionario del tema seleccionado
function startQuiz(grado, temaIndex) {
    gradoActual = grado;
    temaActualIndex = temaIndex;
    preguntaActualIndex = 0;
    puntajeTotal = 0;

    document.getElementById("topic-container").classList.add("hidden");
    const questionContainer = document.getElementById("question-container");
    questionContainer.classList.remove("hidden");

    const topicTitle = document.getElementById("topic-title");
    topicTitle.textContent = temasPorGrado[grado].temas[temaIndex].nombre;

    showQuestion();
}

// Función para mostrar la pregunta actual
function showQuestion() {
    const preguntas = temasPorGrado[gradoActual].temas[temaActualIndex].preguntas;
    const questionText = document.getElementById("question-text");

    if (preguntaActualIndex < preguntas.length) {
        questionText.textContent = preguntas[preguntaActualIndex].texto;
        document.getElementById("answer-input").value = "";
        document.getElementById("result").textContent = "";
    } else {
        finalizarCuestionario();
    }
}

// Función para verificar la respuesta
function checkAnswer() {
    const input = document.getElementById("answer-input").value;
    const result = document.getElementById("result");
    const preguntas = temasPorGrado[gradoActual].temas[temaActualIndex].preguntas;

    if (input === preguntas[preguntaActualIndex].respuestaCorrecta) {
        result.textContent = "¡Correcto!";
        result.style.color = "green";
        puntajeTotal += 2; // Cada pregunta vale 2 puntos
    } else {
        result.textContent = "Respuesta incorrecta. Intenta de nuevo.";
        result.style.color = "red";
    }
}

// Función para pasar a la siguiente pregunta
function nextQuestion() {
    preguntaActualIndex++;
    showQuestion();
}

// Función para finalizar el cuestionario
function finalizarCuestionario() {
    document.getElementById("question-container").classList.add("hidden");
    document.getElementById("end-container").classList.remove("hidden");

    // Mostrar el puntaje total
    document.getElementById("total-score").textContent = puntajeTotal;
}

// Función para volver al menú principal
function volverAlMenu() {
    document.getElementById("menu").classList.remove("hidden");
    document.getElementById("topic-container").classList.add("hidden");
    document.getElementById("question-container").classList.add("hidden");
    document.getElementById("end-container").classList.add("hidden");
}

// Función para volver al menú de temas del grado
function volverATemas() {
    document.getElementById("end-container").classList.add("hidden");
    document.getElementById("topic-container").classList.remove("hidden");
}
